webpackJsonp([20],{1296:function(e,t,n){e.exports={controllerViews:{SearchInput:n(1751)},stores:{SearchInputStore:n(1377)}}},1374:function(e,t,n){(function(e,s){var i=/%[sdj%]/g;t.format=function(e){if(!S(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var s=arguments,o=s.length,r=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(s[n++]);case"%d":return Number(s[n++]);case"%j":try{return JSON.stringify(s[n++])}catch(e){return"[Circular]"}default:return e}}),u=s[n];n<o;u=s[++n])f(u)||!x(u)?r+=" "+u:r+=" "+a(u);return r},t.deprecate=function(n,i){if(I(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===s.noDeprecation)return n;var o=!1;return function(){if(!o){if(s.throwDeprecation)throw new Error(i);s.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,r={};t.debuglog=function(e){if(I(o)&&(o=n.i({NODE_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),!r[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var i=s.pid;r[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else r[e]=function(){};return r[e]};function a(e,n){var s={seen:[],stylize:l};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),g(n)?s.showHidden=n:n&&t._extend(s,n),I(s.showHidden)&&(s.showHidden=!1),I(s.depth)&&(s.depth=2),I(s.colors)&&(s.colors=!1),I(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=u),c(s,e,s.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,s){if(e.customInspect&&n&&v(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(s,e);return S(i)||(i=c(e,i,s)),i}var o=function(e,t){if(I(t))return e.stylize("undefined","undefined");if(S(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(f(t))return e.stylize("null","null")}(e,n);if(o)return o;var r=Object.keys(n),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(r);if(e.showHidden&&(r=Object.getOwnPropertyNames(n)),b(n)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return h(n);if(0===r.length){if(v(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(b(n))return h(n)}var l="",x=!1,E=["{","}"];if(p(n)&&(x=!0,E=["[","]"]),v(n)){l=" [Function"+(n.name?": "+n.name:"")+"]"}if(y(n)&&(l=" "+RegExp.prototype.toString.call(n)),C(n)&&(l=" "+Date.prototype.toUTCString.call(n)),b(n)&&(l=" "+h(n)),0===r.length&&(!x||0==n.length))return E[0]+l+E[1];if(s<0)return y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var _;return _=x?function(e,t,n,s,i){for(var o=[],r=0,a=t.length;r<a;++r)O(t,String(r))?o.push(d(e,t,n,s,String(r),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,s,i,!0))}),o}(e,n,s,a,r):r.map(function(t){return d(e,n,s,a,t,x)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(_,l,E)}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,s,i,o){var r,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),O(s,i)||(r="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=f(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),I(r)){if(o&&i.match(/^\d+$/))return a;(r=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=e.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=e.stylize(r,"string"))}return r+": "+a}function p(e){return Array.isArray(e)}t.isArray=p;function g(e){return"boolean"==typeof e}t.isBoolean=g;function f(e){return null===e}t.isNull=f;t.isNullOrUndefined=function(e){return null==e};function m(e){return"number"==typeof e}t.isNumber=m;function S(e){return"string"==typeof e}t.isString=S;t.isSymbol=function(e){return"symbol"==typeof e};function I(e){return void 0===e}t.isUndefined=I;function y(e){return x(e)&&"[object RegExp]"===E(e)}t.isRegExp=y;function x(e){return"object"==typeof e&&null!==e}t.isObject=x;function C(e){return x(e)&&"[object Date]"===E(e)}t.isDate=C;function b(e){return x(e)&&("[object Error]"===E(e)||e instanceof Error)}t.isError=b;function v(e){return"function"==typeof e}t.isFunction=v;t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(1430);function E(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(1429),t._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),s=n.length;s--;)e[n[s]]=t[n[s]];return e};function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(t,n(31),n(47))},1377:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(3)),i=l(n(57)),o=l(n(26)),r=l(n(320)),a=l(n(23)),u=l(n(1374));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,s.default)("SearchInput:SearchInputStore"),h={get:i.default,merge:o.default,pick:r.default},d=(0,a.default)({storeName:"SearchInputStore",statics:{handlers:{CLEAN_QUERY:"_cleanQuery",NAVIGATE_SUCCESS:"_updateQuery",RESET_SUGGESTIONS:"_resetSuggestions",SET_HIGHLIGHTED_SUGGESTION:"_processSetHighlightedSuggestion",SET_SELECTED_SUGGESTION:"_processSetSelectedSuggestion",GET_SUGGESTIONS_SUCCESS:"_processSuggestions"}},initialize:function(){this.state={instances:{},shouldCleanQuery:!1,query:""}},_updateQuery:function(e){c("_updateQuery",e);var t=e.route?e.route:e;if("search"===h.get(t,"name")){var n=h.get(t,"params.query","");n&&(this.state.query=n,this.emitChange())}},_cleanQuery:function(){this.state.query="",this.state.shouldCleanQuery=!0,this.emitChange()},_processSetHighlightedSuggestion:function(e){c("_processSetHighlightedSuggestion",e),e.instanceId&&(this.state.instances[e.instanceId]=this.state.instances[e.instanceId]||{},this.state.instances[e.instanceId].highlightedSuggestionIndex=e.index,this.state.instances[e.instanceId].selectedSuggestionIndex=e.index,this.emitChange())},_processSetSelectedSuggestion:function(e){c("_processSetSelectedSuggestion",e),e.instanceId&&(this.state.instances[e.instanceId]=this.state.instances[e.instanceId]||{},this.state.instances[e.instanceId].highlightedSuggestionIndex=-1,this.state.instances[e.instanceId].selectedSuggestionIndex=e.index,this.emitChange())},_resetSuggestions:function(e){c("_resetSuggestions",e),e.instanceId&&(this.state.instances[e.instanceId]=this.state.instances[e.instanceId]||{},this.state.instances[e.instanceId].timeStamp&&this.state.instances[e.instanceId].timeStamp>e.timeStamp||(this.state.instances[e.instanceId].timeStamp=e.timeStamp,this.state.instances[e.instanceId].suggestions&&0===this.state.instances[e.instanceId].suggestions.length||(this.state.instances[e.instanceId].suggestions=[],this.state.instances[e.instanceId].highlightedSuggestionIndex=-1,this.state.instances[e.instanceId].selectedSuggestionIndex=-1,this.emitChange())))},_processSuggestions:function(e){if(c("_processSuggestions",e),e.instanceId&&(this.state.instances[e.instanceId]=this.state.instances[e.instanceId]||{},!(this.state.instances[e.instanceId].timeStamp&&this.state.instances[e.instanceId].timeStamp>e.timeStamp))){if(this.state.instances[e.instanceId].timeStamp=e.timeStamp,e.searchSuggestions&&e.searchSuggestions.items){var t=e.searchTerm||"",n=t.length||0,s=t.toLowerCase()||"";this.state.instances[e.instanceId].suggestions=e.searchSuggestions.items.map(function(i){var o=i[e.searchSuggestions.suggestionTitleAccessor],r=e.searchSuggestions.hiConf&&0===o.indexOf(s),a=o&&o.length||0,l="",c={};return a>0&&n>0&&r&&(l=o.substring(n,a)),u.default.isArray(e.searchSuggestions.suggestionMeta)&&e.searchSuggestions.suggestionMeta.length>0&&(c=h.pick(i,e.searchSuggestions.suggestionMeta)),h.merge(c,{fullSuggestion:l?t+l:o,isStrictMatch:r,matchingPart:s})}),this.state.instances[e.instanceId].highlightedSuggestionIndex=-1,this.state.instances[e.instanceId].selectedSuggestionIndex=-1}this.emitChange()}},getHighlightedSuggestionIndex:function(e){var t=this.state.instances[e]&&this.state.instances[e].highlightedSuggestionIndex;return c("getHighlightedSuggestionIndex",t),t},getSelectedSuggestionIndex:function(e){var t=this.state.instances[e]&&this.state.instances[e].selectedSuggestionIndex;return c("getSelectedSuggestionIndex",t),t},getSuggestions:function(e){var t=this.state.instances[e]&&this.state.instances[e].suggestions||[];return c("getSuggestions",t),t},dehydrate:function(){return this.state},rehydrate:function(e){this.state=e}});t.default=d,e.exports=t.default},1429:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},1430:function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1465:function(e,t){if(void 0===n)var n={};n.search={name:"search",height:24,width:24,path:"M9 3C5.686 3 3 5.686 3 9c0 3.313 2.686 6 6 6s6-2.687 6-6c0-3.314-2.686-6-6-6m13.713 19.713c-.387.388-1.016.388-1.404 0l-7.404-7.404C12.55 16.364 10.85 17 9 17c-4.418 0-8-3.582-8-8 0-4.42 3.582-8 8-8s8 3.58 8 8c0 1.85-.634 3.55-1.69 4.905l7.403 7.404c.39.386.39 1.015 0 1.403"},void 0!==e&&e.exports&&(e.exports=n.search)},1736:function(e,t){if(void 0===n)var n={};n.ActionAssistArrow={name:"ActionAssistArrow",height:96,width:96,path:"M67.8 39.797L48.002 20 28.198 39.797c-1.56 1.562-1.56 4.094 0 5.656 1.562 1.562 4.102 1.562 5.66 0l10.14-10.14V76h8V35.31l10.145 10.144c1.562 1.562 4.094 1.562 5.656 0s1.56-4.095 0-5.657z"},void 0!==e&&e.exports&&(e.exports=n.ActionAssistArrow)},1737:function(e,t){if(void 0===n)var n={};n.ActionCross={name:"ActionCross",height:512,width:512,path:"M341.785 271.19c-8.858-8.98-8.858-23.526 0-32.502L445.14 135.342l23.198-23.193c8.882-9 8.882-23.55 0-32.527L431.263 42.5c-8.657-8.666-23.947-8.666-32.542 0L272.278 169.04c-8.615 8.622-23.904 8.622-32.5 0L113.38 42.5c-8.64-8.666-23.928-8.666-32.59 0L43.696 79.67c-8.926 8.933-8.926 23.48 0 32.48L170.14 238.69c4.396 4.38 6.737 10.105 6.737 16.253 0 6.19-2.34 11.984-6.738 16.25L43.694 397.8c-8.926 8.933-8.926 23.524 0 32.5l37.096 37.017c8.662 8.71 23.95 8.71 32.5.066l126.42-126.54c8.662-8.557 23.907-8.557 32.502 0l126.442 126.54c4.287 4.312 10.053 6.724 16.238 6.724 6.207 0 11.977-2.412 16.262-6.723l37.184-37.188c8.882-8.935 8.882-23.46-.043-32.46l-126.51-126.543z"},void 0!==e&&e.exports&&(e.exports=n.ActionCross)},1746:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){o("getSuggestions",t);var s=(t=t||{}).searchTerm||"",i={searchTerm:s,gossipConfig:t.gossipConfig},r=t.instanceId||t.componentProps&&t.componentProps.id,a=Date.now();if(""===s)return e.dispatch("GET_SUGGESTIONS_SUCCESS",{instanceId:r,timeStamp:a,searchTerm:s,searchSuggestions:{hiConf:!1,items:[]}}),void n();e.service.read("searchassist",i,{},function(t,i){if(o("Search assist data",i),t||!i)return e.dispatch("GET_SUGGESTIONS_FAILURE",t),n(t,null);e.dispatch("GET_SUGGESTIONS_SUCCESS",{instanceId:r,timeStamp:a,searchTerm:s,searchSuggestions:i}),n()})};var s,i=n(3);var o=(0,(s=i,s&&s.__esModule?s:{default:s}).default)("SearchInput:getSuggestions");e.exports=t.default},1747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(o("setHighlightedSuggestion",t),"number"!=typeof(t=t||{}).index)return void n();var s=t.instanceId||t.componentProps&&t.componentProps.id;e.dispatch("SET_HIGHLIGHTED_SUGGESTION",{instanceId:s,index:t.index}),n()};var s,i=n(3);var o=(0,(s=i,s&&s.__esModule?s:{default:s}).default)("SearchInput:setHighlightedSuggestion");e.exports=t.default},1748:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(o("setSelectedSuggestion",t),"number"!=typeof(t=t||{}).index)return void n();var s=t.instanceId||t.componentProps&&t.componentProps.id;e.dispatch("SET_SELECTED_SUGGESTION",{instanceId:s,index:t.index}),n()};var s,i=n(3);var o=(0,(s=i,s&&s.__esModule?s:{default:s}).default)("SearchInput:setSelectedSuggestion");e.exports=t.default},1749:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=l(n(2)),i=l(n(1)),o=l(n(4)),r=l(n(22)),a=n(94),u=l(n(1465));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.default)({displayName:"MagnifyingGlass",autobind:!1,contextTypes:{theme:s.default.object},propTypes:{active:s.default.bool},render:function(){var e=this.context.theme,t=e?e.getIn(["search","style","magnifying_glass","color"],"#000"):"#000",n=(0,r.default)("Pos(a) Z(2) T(7px) Start(14px)",{"D(n)":!this.props.active});return i.default.createElement("div",{className:n},i.default.createElement(a.Icon,{asset:u.default,height:"23",color:t}))}});t.default=c,e.exports=t.default},1750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=u(n(2)),i=u(n(1)),o=u(n(4)),r=u(n(19)),a=u(n(1377));function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)({displayName:"SearchHintInput",autobind:!1,mixins:[r.default],statics:{storeListeners:[a.default]},propTypes:{className:s.default.string,instanceId:s.default.string.isRequired,searchTerm:s.default.string.isRequired,onSearchHintChanged:s.default.func},getInitialState:function(){return{previousSearchHint:"",searchHint:"",searchTerm:""}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.store=this.getStore(a.default)},componentWillReceiveProps:function(e){this.props.searchTerm!==e.searchTerm&&(this.state.previousSearchHint=this.state.searchHint,this.state.searchHint=""),this.state.searchTerm=e.searchTerm},onChange:function(e){var t,n="",s=this._getStoreData();s&&s.suggestions&&s.suggestions.length&&s.selectedSuggestionIndex<0&&(n=(t=s.suggestions[0]).isStrictMatch?t.fullSuggestion:""),this.state.searchHint=n,this.state.previousSearchHint!==this.state.searchHint&&this.props.onSearchHintChanged&&this.props.onSearchHintChanged(n)},render:function(){return i.default.createElement("input",{className:this.props.className,readOnly:!0,style:{WebkitAppearance:"none"},tabIndex:"-1",value:this.state.searchHint})},_getStoreData:function(){return{selectedSuggestionIndex:this.store.getSelectedSuggestionIndex(this.props.instanceId),suggestions:this.store.getSuggestions(this.props.instanceId)}}});t.default=l,e.exports=t.default},1751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=C(n(2)),o=C(n(1)),r=C(n(4)),a=C(n(29)),u=C(n(22)),l=n(94),c=C(n(1737)),h=n(56),d=C(n(19)),p=C(n(5)),g=C(n(1746)),f=C(n(1749)),m=C(n(1747)),S=C(n(1748)),I=C(n(1377)),y=C(n(1750)),x=C(n(1754));n(98);function C(e){return e&&e.__esModule?e:{default:e}}var b=(0,r.default)({displayName:"SearchInput",autobind:!1,_isSmartphone:!1,_isTablet:!1,propTypes:{autofocus:i.default.bool.isRequired,className:i.default.string,defaultValue:i.default.string,footerComponent:i.default.func,id:i.default.string.isRequired,inputName:i.default.string,isSmartphone:i.default.bool,isTablet:i.default.bool,magnifyingGlass:i.default.bool,onClear:i.default.func,onFocus:i.default.func,onKeyDown:i.default.func,onSearchHintChanged:i.default.func,onSelect:i.default.func,placeholder:i.default.string,searchHint:i.default.bool,showFooter:i.default.bool,templateComponent:i.default.func},contextTypes:{getStore:i.default.func,theme:i.default.object,session:i.default.object},childContexTypes:{theme:i.default.object},mixins:[d.default],statics:{storeListeners:[I.default]},immediateId:null,getInitialState:function(){return this.isOnComposition=!1,{searchTerm:"",highlightedSuggestionIndex:-1,selectedSuggestionIndex:-1,shouldCleanQuery:!1,suggestions:[]}},getDefaultProps:function(){return{config:{}}},componentDidMount:function(){var e=this;e.props.autofocus&&(e.immediateId=setImmediate(function(){e.focus()}))},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleChange=this.handleChange.bind(this),this.handleComposition=this.handleComposition.bind(this),this.handleClear=this.handleClear.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleItemEnter=this.handleItemEnter.bind(this),this.handleItemExit=this.handleItemExit.bind(this),this.handleTermComplete=this.handleTermComplete.bind(this),this.store=this.getStore(I.default),this._isSmartphone=this.props.isSmartphone||!1!==this.props.isSmartphone&&"smartphone"===(0,p.default)(this.context,["session","dimensions","device"]),this._isTablet=this.props.isTablet||!1!==this.props.isTablet&&"tablet"===(0,p.default)(this.context,["session","dimensions","device"])},componentWillUnmount:function(){this.immediateId&&clearImmediate(this.immediateId)},focus:function(){var e=a.default.findDOMNode(this.refs.userInput),t=this.getUserInput().length;e.focus(),e.setSelectionRange&&e.setSelectionRange(t,t)},blur:function(){a.default.findDOMNode(this.refs.userInput).blur()},handleValueChange:function(e){e?this._isSmartphone&&this.props.onFocus&&this.props.onFocus():this._isSmartphone&&this.props.onClear&&this.props.onClear()},setUserInput:function(e,t){a.default.findDOMNode(this.refs.userInput).value=e,this.handleValueChange(e),!0===t&&this.focus()},getUserInput:function(){var e=a.default.findDOMNode(this.refs.userInput);return e&&e.value||""},getClearBtn:function(){var e={style:{verticalAlign:"initial"}},t={elm:"btn",itc:0,slk:"srch-clear",subsec:"search"};if(this.props.clearBtn&&this.state.searchTerm)return o.default.createElement(h.I13nButton,{className:"Pos(a) W(36px) H(100%) End(0) T(0) P(0) Bdw(0) Bgc(t) O(0) Z(3) Cur(p)",model:t,onClick:this.handleClear,type:"button"},o.default.createElement(l.Icon,s({asset:c.default,height:12,color:"#ccc"},e)))},getSearchHintInput:function(){var e={"Fz(18px) Pos(a) W(100%) T(0) Start(0) M(0) C(#c0c0c0) Bgc(#fff) O(0) O(0):f Px(10px) Py(5px) Z(1)":!0,"Bxsh(n) Bxsh(n):f":!0,"Bdrs(0)":!this.props.magnifyingGlass,"Bdrs(3px) Bdw(0)":this._isSmartphone||this._isTablet};if(this.props.className&&(e[this.props.className]=!0),this.props.searchHint)return o.default.createElement(y.default,{className:(0,u.default)(e),instanceId:this.props.id,searchTerm:this.state.searchTerm,onSearchHintChanged:this.props.onSearchHintChanged})},getMaginifyingGlass:function(){return o.default.createElement(f.default,{active:this.props.magnifyingGlass})},getSuggestions:function(e){"number"==typeof this._getSuggestionsTimeoutID&&(clearTimeout(this._getSuggestionsTimeoutID),this._getSuggestionsTimeoutID=void 0);var t=this;this._getSuggestionsTimeoutID=setTimeout(function(e,n){t.context.executeAction(g.default,{searchTerm:e,gossipConfig:t.props.config.gossip,instanceId:n})}.bind(t,e,t.props.id),200)},resetSuggestions:function(){this.getSuggestions("")},onChange:function(e){var t=this;t.setState(t._getStoreData(),function(){if(t.state.suggestions&&t.state.selectedSuggestionIndex>-1){var e=t.state.suggestions[t.state.selectedSuggestionIndex]&&t.state.suggestions[t.state.selectedSuggestionIndex].fullSuggestion||"";-1===t.state.highlightedSuggestionIndex&&(t.props.searchHint&&t.props.onSearchHintChanged&&t.props.onSearchHintChanged(e),t.setUserInput(e))}})},handleChange:function(e){var t=e.target.value;this.setState({searchTerm:t}),this.getSuggestions(t)},handleKeyDown:function(e){var t=this,n=h.ReactI13n.getInstance();if(t.props.onKeyDown&&t.props.onKeyDown(e),"ArrowDown"===e.key){if(t.isOnComposition)return;t.state.selectedSuggestionIndex+1<t.state.suggestions.length&&t.context.executeAction(S.default,{index:t.state.selectedSuggestionIndex+1,instanceId:t.props.id}),e.preventDefault()}else if("ArrowUp"===e.key){if(t.isOnComposition)return;t.state.selectedSuggestionIndex-1>-1?t.context.executeAction(S.default,{index:t.state.selectedSuggestionIndex-1,instanceId:t.props.id}):0===t.state.selectedSuggestionIndex&&t.setUserInput(t.state.searchTerm),e.preventDefault()}else if("Escape"===e.key)t.resetSuggestions();else if("Enter"===e.key){e.preventDefault(),t.resetSuggestions();var s=229!==e.which&&!t.isOnComposition,i={source:t.state.selectedSuggestionIndex>-1?"sa":"sb"};n?n.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-enter",0,{elm:"kybrd",itc:0,subsec:"search",tar:"search.yahoo.com",tar_uri:"/search"}]},function(){s&&t.props.onSelect&&t.props.onSelect(i)}):s&&t.props.onSelect&&t.props.onSelect(i)}else 32!==e.keyCode||t.getUserInput().length||t.blur()},handleKeyUp:function(){this.handleValueChange(this.getUserInput())},handleBlur:function(e){this._isSmartphone||this._isTablet||this.resetSuggestions()},handleComposition:function(e){"compositionend"===e.type?(this.isOnComposition=!1,this.handleChange(e)):this.isOnComposition=!0},clearInput:function(){this.setState({searchTerm:""}),this.setUserInput(""),this.resetSuggestions()},handleClear:function(e){this.clearInput(),this.focus()},handleSelect:function(e){var t={source:this.state.selectedSuggestionIndex>-1?"sa":"sb"};this.setUserInput(e.fullSuggestion),this.resetSuggestions(),this.props.onSelect&&this.props.onSelect(t)},handleItemEnter:function(e){this.context.executeAction(m.default,{index:e,instanceId:this.props.id})},handleItemExit:function(e){this.context.executeAction(m.default,{index:-1,instanceId:this.props.id})},handleTermComplete:function(e){var t=this.state.suggestions[e].fullSuggestion;this.setState({searchTerm:t}),this.setUserInput(t),this.getSuggestions(t),this.focus()},shouldComponentUpdate:function(e,t){return t.searchTerm!==this.state.searchTerm||t.highlightedSuggestionIndex!==this.state.highlightedSuggestionIndex||t.selectedSuggestionIndex!==this.state.selectedSuggestionIndex||t.suggestions!==this.state.suggestions||t.shouldCleanQuery!==this.state.shouldCleanQuery},render:function(){var e=this.context.session.isLightWeightBrowser,t=this.props.defaultValue||this.getStore(I.default).state.query,n=this._isSmartphone||this._isTablet,s=(0,u.default)("Z(2)",{"Pos(r)":!n}),i=(0,u.default)({"Pos(r)":n}),r={"Pos(r) W(100%) M(0) O(0) O(0):f Bgc(#fff) Z(2) Bxsh(n) Bxsh(n):f Fz(15px) Px(15px) Py(8px)":!0,"Bgc(t)":this.props.searchHint,"Bdrs(0)":!this.props.magnifyingGlass,"Pend(0px)":e,"Pstart(10px)":!this.props.magnifyingGlass&&!e,"Pend(10px)":!this.props.clearBtn&&!e,"Pstart(40px)":this.props.magnifyingGlass&&!e&&!n,"Pstart(50px)":this.props.magnifyingGlass&&!e&&n,"Pend(38px)":this.props.clearBtn&&!e,"Bdrs(3px) Bdw(0) Fz(18px)":n};this.props.className&&(r[this.props.className]=!0);var a={WebkitAppearance:"none"};return e?o.default.createElement("div",{className:s,id:this.props.id},o.default.createElement("div",{className:i},o.default.createElement("input",{"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:(0,u.default)(r),defaultValue:t,key:"userInput",name:this.props.inputName,placeholder:this.props.placeholder,ref:"userInput",style:a,type:"text"}))):o.default.createElement("div",{className:s,id:this.props.id,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp},o.default.createElement("div",{className:i},o.default.createElement("input",{"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:(0,u.default)(r),defaultValue:t,key:"userInput"+(this.state.shouldCleanQuery?"-cq":""),name:this.props.inputName,onChange:this.handleChange,onCompositionStart:this.handleComposition,onCompositionUpdate:this.handleComposition,onCompositionEnd:this.handleComposition,placeholder:this.props.placeholder,ref:"userInput",style:a,type:"text"}),this.props.magnifyingGlass&&this.getMaginifyingGlass(),this.getSearchHintInput(),this.getClearBtn()),o.default.createElement(x.default,{footerComponent:this.props.footerComponent,instanceId:this.props.id,isSmartphone:this._isSmartphone,onSelect:this.handleSelect,onItemEnter:this.handleItemEnter,onItemExit:this.handleItemExit,query:this.state.searchTerm,showFooter:this.props.showFooter,termCompleteBtn:this.props.termCompleteBtn,termCompleteHandler:this.handleTermComplete,templateComponent:this.props.templateComponent}))},_getStoreData:function(){return{highlightedSuggestionIndex:this.store.getHighlightedSuggestionIndex(this.props.id),selectedSuggestionIndex:this.store.getSelectedSuggestionIndex(this.props.id),shouldCleanQuery:this.store.state.shouldCleanQuery,suggestions:this.store.getSuggestions(this.props.id)}}});t.default=b,e.exports=t.default},1752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(2)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var r={autobind:!1,displayName:"SearchSuggestionInterface",propTypes:{suggestion:s.default.object},highlight:function(e,t,n,s){n=n||!1,s=s||!1;return e.split(new RegExp((n?"":"^")+"("+t+")","gi")).map(function(e,n){return e.toLowerCase()===t?s?i.default.createElement("strong",{key:"st"+n,dangerouslySetInnerHTML:{__html:e}}):i.default.createElement("span",{key:"sp"+n,dangerouslySetInnerHTML:{__html:e}}):s?i.default.createElement("span",{key:"sp"+n,dangerouslySetInnerHTML:{__html:e}}):i.default.createElement("strong",{key:"st"+n,dangerouslySetInnerHTML:{__html:e}})})},reverseHighlight:function(e,t,n){return this.highlight(e,t,n,!0)},getDefaultBody:function(){var e=this.props.suggestion;return i.default.createElement("span",null,this.highlight(e.fullSuggestion,e.matchingPart,!1))},render:function(){return this.body&&this.body.call(this)||this.getDefaultBody()}};t.default=r,e.exports=t.default},1753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=d(n(2)),i=d(n(1)),o=d(n(4)),r=d(n(22)),a=d(n(19)),u=n(94),l=d(n(1736)),c=n(56),h=d(n(1755));function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,o.default)({displayName:"SearchSuggestionItem",autobind:!1,propTypes:{index:s.default.number,isSelected:s.default.bool,isSmartphone:s.default.bool,onSelect:s.default.func,onEnter:s.default.func,onExit:s.default.func,suggestion:s.default.object,templateComponent:s.default.func,termCompleteBtn:s.default.bool,termCompleteHandler:s.default.func},mixins:[a.default],componentWillMount:function(){this.handleTermComplete=this.handleTermComplete.bind(this),this.handleItemClick=this.handleItemClick.bind(this),this.handleItemEnter=this.handleItemEnter.bind(this),this.handleItemExit=this.handleItemExit.bind(this)},getTermCompleteBtn:function(){if(this.props.termCompleteBtn&&!this.props.templateComponent){var e={cpos:this.props.index,elm:"btn",itc:0,slk:"srch-asst-complete",subsec:"search"};return i.default.createElement(c.I13nButton,{className:"Pos(a) W(36px) H(100%) End(0) T(0) P(0) Bdw(0) Bgc(t) O(0) Cur(p)",model:e,onClick:this.handleTermComplete,type:"button"},i.default.createElement(u.Icon,{asset:l.default,className:"Rotate(-45deg)",height:"28",color:"#ccc"}))}},handleItemClick:function(e){var t=this,n=t.props.suggestion,s=c.ReactI13n.getInstance();s?s.execute("beacon",{beaconType:"beaconClick",arguments:["uh","srch-asst",0,{cpos:t.props.index,elm:"btn",itc:0,subsec:"search",tar:"search.yahoo.com",tar_uri:"/search"}]},function(){t.props.onSelect&&t.props.onSelect(n)}):t.props.onSelect&&t.props.onSelect(n)},handleItemEnter:function(e){this.props.onEnter&&this.props.onEnter(this.props.index)},handleItemExit:function(e){this.props.onExit&&this.props.onExit(this.props.index)},handleTermComplete:function(e){e.preventDefault(),e.stopPropagation(),this.props.termCompleteHandler&&this.props.termCompleteHandler(this.props.index)},render:function(){var e=(0,r.default)("D(b) Td(n) Cur(d)",{"Mend(36px)":!this.props.templateComponent}),t=(0,r.default)("Pos(r) Fz(15px)! Cur(p)",{"Bgc(#c6d7ff)":this.props.isSelected,"Bd Bdc(#f1f1f1) Bdw(0) Bdbw(1px) Py(10px) Px(20px)":this.props.isSmartphone,"Py(4px) Px(10px)":!this.props.isSmartphone}),n=this.props.templateComponent||h.default;return i.default.createElement("li",{className:t,onClick:this.handleItemClick,onMouseEnter:this.handleItemEnter,onMouseLeave:this.handleItemExit},this.getTermCompleteBtn(),i.default.createElement("div",{className:e},i.default.createElement(n,{suggestion:this.props.suggestion})))}});t.default=p,e.exports=t.default},1754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=c(n(2)),i=c(n(1)),o=c(n(4)),r=c(n(22)),a=c(n(19)),u=c(n(1377)),l=c(n(1753));function c(e){return e&&e.__esModule?e:{default:e}}var h=(0,o.default)({displayName:"SearchSuggestionList",autobind:!1,propTypes:{footerComponent:s.default.func,isSmartphone:s.default.bool,instanceId:s.default.string.isRequired,onSelect:s.default.func,onItemEnter:s.default.func,onItemExit:s.default.func,showFooter:s.default.bool,termCompleteBtn:s.default.bool,termCompleteHandler:s.default.func,templateComponent:s.default.func},contextTypes:{getStore:s.default.func},mixins:[a.default],statics:{storeListeners:[u.default]},getInitialState:function(){return{highlightedSuggestionIndex:-1,selectedSuggestionIndex:-1,suggestions:[]}},componentWillMount:function(){this.onChange=this.onChange.bind(this),this.handleItemClick=this.handleItemClick.bind(this),this.handleItemEnter=this.handleItemEnter.bind(this),this.handleItemExit=this.handleItemExit.bind(this),this.handleTermComplete=this.handleTermComplete.bind(this),this.store=this.getStore(u.default)},onChange:function(e){this.setState(this._getStoreData())},handleItemClick:function(e){this.props.onSelect&&this.props.onSelect(e)},handleItemEnter:function(e){this.props.onItemEnter&&this.props.onItemEnter(e)},handleItemExit:function(e){this.props.onItemExit&&this.props.onItemExit(e)},handleTermComplete:function(e){this.props.termCompleteHandler&&this.props.termCompleteHandler(e)},renderFooter:function(){var e=this.props,t=e.footerComponent;return!0===e.showFooter&&t?i.default.createElement(t,{query:e.query}):null},render:function(){var e=this,t=(0,r.default)("Pos(a) Ta(start) Start(0) End(0) Bgc(#fff) Z(1) Wob(ba)",{"D(n)":!e.state.suggestions.length,"Bd Bdc(#aaa) Bdtw(0) Mt(-1px) Whs(n)":!e.props.isSmartphone,"Mt(11px)":e.props.isSmartphone});return i.default.createElement("div",{className:t,key:"satray"},i.default.createElement("ul",{className:"M(0)"},e.state.suggestions.map(function(t,n){var s=e.state.selectedSuggestionIndex===n||e.state.highlightedSuggestionIndex===n;return i.default.createElement(l.default,{index:n,isSmartphone:e.props.isSmartphone,key:n,isSelected:s,onSelect:e.handleItemClick,onEnter:e.handleItemEnter,onExit:e.handleItemExit,suggestion:t,templateComponent:e.props.templateComponent,termCompleteBtn:e.props.termCompleteBtn,termCompleteHandler:e.handleTermComplete})})),e.renderFooter())},_getStoreData:function(){return{highlightedSuggestionIndex:this.store.getHighlightedSuggestionIndex(this.props.instanceId),selectedSuggestionIndex:this.store.getSelectedSuggestionIndex(this.props.instanceId),suggestions:this.store.getSuggestions(this.props.instanceId)}}});t.default=h,e.exports=t.default},1755:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(2)),i=r(n(4)),o=r(n(1752));function r(e){return e&&e.__esModule?e:{default:e}}var a=(0,i.default)({displayName:"SearchSuggestionTemplate",autobind:!1,propTypes:{suggestion:s.default.object},mixins:[o.default]});t.default=a,e.exports=t.default}});